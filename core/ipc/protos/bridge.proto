syntax = "proto3";

package aas.ipc;

// The Bridge service definition.
service Bridge {
  // Sends a high-level command from AAS to Maelstrom
  rpc ExecuteCommand (CommandRequest) returns (CommandResponse) {}
  
  // Streams game state snapshots from Maelstrom to AAS
  rpc StreamSnapshots (SnapshotRequest) returns (stream SnapshotResponse) {}
}

message CommandRequest {
  string command_type = 1;
  string payload_json = 2;
}

message CommandResponse {
  bool success = 1;
  string message = 2;
}

message SnapshotRequest {
  int32 interval_ms = 1;
}

message SnapshotResponse {
  string snapshot_json = 1;
  int64 timestamp = 2;
}
